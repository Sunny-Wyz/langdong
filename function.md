# 新增功能点更新记录 (function.md)

**规则说明**：从现在起，当有新的系统功能被开发、修改或增强时，会自动将新增的功能点更新记录以规范的格式补充写入此文档中。

---

### F1: 记录功能点规则机制
- **功能描述**：要求接下来所有的功能点更新都必须被记录到本篇文档（function.md）中。
- **落实情况**：本规则已正式确立。后续所有功能迭代，都将在本文件中自动以“F - 功能描述 - 落实情况”的格式进行持续追踪与记录。

---

### F2: 供应商档案管理 - 增加供货品类视图及实时反映
- **功能描述**：在供应商档案管理列表中，新增“供货品类”列，直接展示每个供应商能提供的供货品类标签；并且要求在编辑/分配供货品类操作成功后，列表视图能够自动刷新，实时展示刚刚的关联结果。
- **落实情况**：已通过后端 `SupplierController.java` 在 `GET` 查询中级联返回品类列表，同时前端在 `SupplierProfile.vue` 组件的表格中通过 `<el-tag>` 循环渲染出分类数据。此外在 `saveCategories` 接口的成功 Promise 回调里加入了 `this.getList()`，实现了无刷新状态下的数据实时响应。

---

### F3: 仓储管理 - 收货入库能力
- **功能描述**：核心入账处理模块，串联采购订单单据与实质入库动作。操作人员在前端界面通过采购单号联动出待入库详情，填入实收数量。系统自动检测是否属于“超收”，触发强约束：若实际入库超出预期且未勾选特批，则阻断并抛出提示。最终落点为生成独立入库记录、更新原采购单完成度以及累加 `spare_part_stock` （系统库存核心台账表）。
- **落实情况**：完成五张关键骨架表创建 (`purchase_order`, `purchase_order_item`, `stock_in_receipt`, `stock_in_item`, `spare_part_stock`)；完成业务中枢 `StockInService.java` 并透传至 API；完成配套 `StockInManage.vue` 前端。当前业务闭环可用，并且为系统管理员默认加持了侧边栏菜单访问权限。
